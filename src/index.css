/* TailwindCSS 4.0 + shadcn/ui */

@import 'tailwindcss';
@config "../tailwind.config.ts";

@layer base {
  :root {
    /*
     * UX Design System - Theme 3: Technical Calm
     * Primary: Cyan #06B6D4 (HSL: 187 94% 43%)
     * Based on: docs/ux-design-specification.md
     */

    /* Base colors */
    --background: 210 40% 98%; /* Slate 50: #F8FAFC */
    --foreground: 222 47% 11%; /* Slate 900: #0F172A */

    /* Card & Popover */
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* Primary - Cyan */
    --primary: 187 94% 43%; /* Cyan 500: #06B6D4 */
    --primary-foreground: 0 0% 100%;

    /* Secondary - Slate */
    --secondary: 210 40% 96%; /* Slate 100 */
    --secondary-foreground: 222 47% 11%;

    /* Muted */
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%; /* Slate 500: #64748B */

    /* Accent - Cyan Light */
    --accent: 187 86% 94%; /* Cyan 50: #ECFEFF */
    --accent-foreground: 189 96% 37%; /* Cyan 600: #0891B2 */

    /* Semantic - Destructive (Error) */
    --destructive: 0 84% 60%; /* Red 500: #EF4444 */
    --destructive-foreground: 0 0% 100%;

    /* Semantic - Success */
    --success: 160 84% 39%; /* Green 500: #10B981 */
    --success-foreground: 0 0% 100%;

    /* Semantic - Warning */
    --warning: 38 92% 50%; /* Amber 500: #F59E0B */
    --warning-foreground: 0 0% 0%;

    /* Border & Input */
    --border: 214 32% 80%; /* Slate 300: #CBD5E1 */
    --input: 214 32% 80%;
    --ring: 187 94% 43%; /* Cyan 500 for focus rings */

    /* Border Radius - Design System */
    --radius: 0.375rem; /* 6px - medium default */
    --radius-sm: 0.25rem; /* 4px */
    --radius-md: 0.375rem; /* 6px */
    --radius-lg: 0.5rem; /* 8px */
    --radius-xl: 0.75rem; /* 12px */
  }

  .dark {
    /*
     * Dark Mode - Technical Calm
     * Background: Slate 900 #0F172A
     * Surface: Slate 800 #1E293B
     */

    /* Base colors */
    --background: 222 47% 11%; /* Slate 900: #0F172A */
    --foreground: 210 40% 98%; /* Slate 50: #F8FAFC */

    /* Card & Popover - Slate 800 */
    --card: 217 33% 17%; /* Slate 800: #1E293B */
    --card-foreground: 210 40% 98%;
    --popover: 217 33% 17%;
    --popover-foreground: 210 40% 98%;

    /* Primary - Cyan (stays the same for brand consistency) */
    --primary: 187 94% 43%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Slate 800 */
    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;

    /* Muted - Slate 800/700 */
    --muted: 217 33% 17%;
    --muted-foreground: 215 25% 65%; /* Slate 400: #94A3B8 */

    /* Accent - Dark cyan tint */
    --accent: 189 96% 20%;
    --accent-foreground: 187 94% 53%;

    /* Semantic - Destructive */
    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    /* Semantic - Success */
    --success: 160 84% 39%;
    --success-foreground: 0 0% 100%;

    /* Semantic - Warning */
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;

    /* Border & Input - Slate 700 */
    --border: 217 33% 27%; /* Slate 700: #334155 */
    --input: 217 33% 27%;
    --ring: 187 94% 43%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  /* Hide broken images in email content (like Gmail does) */
  .prose img {
    /* Hide broken image icon */
    &:not([src]),
    &[src=''],
    &[src^='cid:'] {
      display: none;
    }
  }

  /* Alternative: use error event handler styling */
  .prose img[data-error='true'] {
    display: none;
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family:
      'Inter Variable',
      Inter,
      ui-sans-serif,
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      sans-serif;
    font-size: 0.875rem; /* 14px - Body default */
    line-height: 1.5;
    letter-spacing: -0.01em;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}
